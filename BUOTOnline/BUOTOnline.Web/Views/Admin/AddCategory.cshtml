@model BUOTOnline.DAL.ViewModels.CategoryViewModel

@{
    ViewBag.Title = "Add New Category";
}

@section scripts {
    @Scripts.Render("~/bundles/adminController");
}

<h2>AddCategory</h2>
<div ng-controller="adminController">
    {{test}}
    @using (Html.BeginForm("AddCategory", "Admin", FormMethod.Post))
    {
        <div class="form-group">
            @Html.LabelFor(m => m.Name, "Name:")
            @Html.TextBoxFor(m => m.Name, new { @class = "form-control", ng_model = "test" })
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.ParentId, "Parent:")
            @Html.DropDownListFor(expression: m => m.ParentId, 
                selectList: new SelectList(Model.Parents, "Id", "Name"), 
                optionLabel: "No Parent", 
                htmlAttributes: new { @class = "form-control", ng_model = "parentId", ng_change = "getInheritedAttributes()" })
        </div>

        @Html.HiddenFor(m => m.AttributeIds, new { ng_value = "{{attrs}}" })

        <input value="Add" type="submit" class="btn btn-success" />
    }
</div>